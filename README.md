
# SDWV - Phase 1: Cryptographic Foundation & Testing

This README provides instructions on how to test Phase 1 of the Secure Data Wiper & Verifier (SDWV) project.

## Requirements

- Python 3.6+

## Setup

1.  **Create a Virtual Environment:**
    It's highly recommended to use a virtual environment to avoid conflicts with system-wide packages.

    ```bash
    # Create the virtual environment
    python3 -m venv venv

    # Activate it (on Linux/macOS)
    source venv/bin/activate
    ```
    *On Windows, the activation command is `venv\Scripts\activate`.*

2.  **Install Dependencies:**
    With the virtual environment active, install the required packages.
    ```bash
    pip install -r requirements.txt
    ```


## Phase 4: Verification Service & Final Deployment

This phase completes the project by providing the web-based verification service and instructions for creating the final bootable wiping tool.

### 1. The Flask Verification Service

A local web application for verifying the authenticity of `certificate.json` files.

**A. Setup and First Run:**

1.  **Navigate to the service directory:**
    ```bash
    cd verification_service
    ```

2.  **Install dependencies (it's best to use a separate virtual environment):**
    ```bash
    # Deactivate the previous venv if active
    deactivate 
    python3 -m venv venv_web
    source venv_web/bin/activate
    pip install -r requirements.txt
    ```

3.  **Run the Service:**
    The first time you run the app, it will automatically create the `verification.db` database file.
    ```bash
    python app.py
    ```
    For subsequent runs, you can use `python app.py` or `flask run`.
    The service will be available at `http://127.0.0.1:5000`.

**B. How to Test:**

1.  Run the web service as described above.
2.  Open your web browser and go to `http://127.0.0.1:5000`.
3.  You will see an upload form. Upload a `certificate.json` file that was generated by the main application.
4.  The service will show you a results page indicating if the certificate is authentic.

### 2. Creating the Production SystemRescue USB

Follow the detailed instructions in the `systemrescue_config/README.md` file. The summary of steps is:

1.  **Create a bootable SystemRescue USB** using their official ISO and a tool like Rufus or Etcher.
2.  **Copy the project files** into a `sdwv_app/` directory on the USB drive.
3.  **Copy the `autorun.yml`** file to the root of the USB drive.
4.  **Bundle the offline Python libraries** into a `sdwv_app/libs/` directory.
5.  **Add the offline library path** to the top of `main.py`.

### 3. End-to-End Workflow Testing

1.  Create the bootable USB as described above.
2.  Boot a test machine from the USB drive. The SDWV application should start automatically.
3.  Use the application to wipe a safe, whitelisted device (like a spare USB or a virtual loop device).
4.  Save the generated `certificate.json` and `certificate.pdf` to a different USB drive.
5.  On your development machine, run the Flask verification service.
6.  Upload the `certificate.json` file to the service and confirm that it shows "Verified Authentic".
7.  Open the `certificate.pdf`, and scan the QR code with your phone. The URL should contain the full certificate data.

### 4. Conceptual Cloud Deployment Guide

The included Flask application is a standard WSGI application that can be deployed to any cloud provider.

-   **Application Server:** For production, you should not use the built-in Flask development server. Use a production-ready WSGI server like **Gunicorn** or **uWSGI**.
-   **Web Server (Reverse Proxy):** It is standard practice to place a web server like **Nginx** or **Apache** in front of the Gunicorn server. Nginx would handle incoming requests, serve static files directly, and forward dynamic requests to Gunicorn. This setup also makes it easy to handle HTTPS/SSL termination.
-   **Containerization:** The most common and recommended deployment method is to containerize the application using **Docker**. You would create a `Dockerfile` that installs Python, copies the application files, installs dependencies, and specifies the Gunicorn command to run. This container can then be deployed easily to services like AWS ECS, Google Cloud Run, or Azure App Service.
-   **Database:** For a small-scale deployment, SQLite can work, but for a larger scale, you would replace it with a dedicated database server like PostgreSQL or MySQL.
